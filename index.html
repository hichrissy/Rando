<!DOCTYPE html>
<html>
<head>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body { font-family: Arial, sans-serif; }
        .node circle { stroke: #333; stroke-width: 2px; }
        .node text { font-size: 12px; }
        .link { fill: none; stroke: #ccc; stroke-width: 2px; }
        .done { fill: #28a745; } /* Green for Done */
        .in-progress { fill: #007bff; } /* Blue for In Progress */
        .not-started { fill: #ccc; } /* Gray for Not Started */
    </style>
</head>
<body>
    <svg width="1200" height="800"></svg>
    <script>
        const data = {
            "name": "Roadmap",
            "children": [
                {
                    "name": "AI Infrastructure & Automation",
                    "status": "in-progress",
                    "children": [
                        {
                            "name": "Agentic System",
                            "status": "in-progress",
                            "children": [
                                {
                                    "name": "Role-Based Specialisation",
                                    "status": "in-progress",
                                    "children": [
                                        { "name": "Define Agent Roles & Expertise", "status": "done" },
                                        { "name": "Role-Specific Task Assignment", "status": "in-progress" },
                                        { "name": "Role-Based Access & Permissions", "status": "not-started" },
                                        { "name": "Agent Training by Role", "status": "not-started" },
                                        { "name": "Decision-Making & Escalation Rules", "status": "not-started" }
                                    ]
                                }
                            ]
                        }
                    ]
                },
                {
                    "name": "Brand DNA",
                    "status": "in-progress",
                    "children": [
                        {
                            "name": "AI Company Analysis",
                            "status": "done",
                            "children": [
                                { "name": "Overview, Market, Competitors", "status": "done" }
                            ]
                        },
                        {
                            "name": "Brand Identity Ingestion",
                            "status": "done",
                            "children": [
                                { "name": "Guideline Ingestion", "status": "done" },
                                { "name": "Logos, Fonts, Graphics", "status": "done" },
                                { "name": "Colour Palette", "status": "done" },
                                { "name": "Asset Libraries and Organisation", "status": "done" }
                            ]
                        }
                    ]
                },
                {
                    "name": "Campaign Initiation",
                    "status": "in-progress",
                    "children": [
                        { "name": "AI Brief Builder", "status": "in-progress" },
                        { "name": "AI Brainstorming (Chat)", "status": "not-started" },
                        { "name": "Brief Upload & Analysis", "status": "in-progress" },
                        { "name": "Campaign Brief Generation", "status": "in-progress" },
                        { "name": "Campaign Data Storage & Structuring", "status": "in-progress" }
                    ]
                }
            ]
        };

        const width = 1200, height = 800;
        const svg = d3.select("svg"), g = svg.append("g").attr("transform", "translate(40,40)");

        const treeLayout = d3.tree().size([height - 100, width - 200]);
        const root = d3.hierarchy(data, d => d.children);
        treeLayout(root);

        g.selectAll(".link")
            .data(root.links())
            .enter().append("path")
            .attr("class", "link")
            .attr("d", d3.linkHorizontal()
                .x(d => d.y)
                .y(d => d.x));

        const node = g.selectAll(".node")
            .data(root.descendants())
            .enter().append("g")
            .attr("class", "node")
            .attr("transform", d => `translate(${d.y},${d.x})`);

        node.append("circle")
            .attr("r", 6)
            .attr("class", d => d.data.status ? d.data.status : "not-started");

        node.append("text")
            .attr("dy", 3)
            .attr("x", d => d.children ? -10 : 10)
            .style("text-anchor", d => d.children ? "end" : "start")
            .text(d => d.data.name);
    </script>
</body>
</html>
